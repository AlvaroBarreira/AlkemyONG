(this["webpackJsonpong-proyect"]=this["webpackJsonpong-proyect"]||[]).push([[18],{709:function(e,t,n){"use strict";n.r(t);var o=n(1),a=n(26),r=n(6),i=n(20),c=n(204),s=n.n(c),l=n(202),b=n.n(l),x=n(205),j=n.n(x),m=n(203),h=n.n(m),d=n(598),u=n(597),p=n(525),g=n(102),f=n(31),O=n(30),y=n(587),k=n(594),v=n(582),C=n(586),S=n(584),w=n(603),I=n(162),D=n(19),E=n(0),z=function(){var e=Object(o.useState)(!1),t=Object(r.a)(e,2),n=t[0],i=t[1],c=Object(a.g)(),s=O.b().shape({email:O.c().email("*Email inv\xe1lido").required("*El email es requerido")}),l=Object(f.c)({initialValues:{email:""},validationSchema:s,onSubmit:function(e){if(localStorage.getItem("token"))try{i(!0),setTimeout((function(){return localStorage.setItem("subscribed",!0)}),5e3),l.resetForm()}catch(t){l.setFieldError("email","Error al suscribirse")}finally{l.setSubmitting(!1)}else Object(D.a)("Error","Debes estar registrado para poder suscribirte"),setTimeout((function(){return c.push("/login")}),2e3)}});return localStorage.getItem("subscribed")?null:n?Object(E.jsx)(u.a,{sx:{my:"1rem",margin:"auto",display:"block"},children:Object(E.jsx)(I.a,{gutterBottom:!0,component:"p",variant:"body1",children:"Gracias por suscribirte!"})}):Object(E.jsxs)(u.a,{sx:{my:"1rem"},children:[Object(E.jsx)("div",{children:Object(E.jsx)("a",{style:{textAlign:"center",display:"block",margin:"20px auto"},children:"\xbfDesea suscribirse para recibir noticias?"})}),Object(E.jsxs)("form",{onReset:l.handleReset,onSubmit:l.handleSubmit,children:[Object(E.jsxs)(y.a,{container:!0,columnGap:1,children:[Object(E.jsxs)(k.a,{size:"small",variant:"outlined",children:[Object(E.jsx)(v.a,{htmlFor:"email",children:"Email"}),Object(E.jsx)(C.a,{id:"email",label:"Email",name:"email",size:"small",type:"email",value:l.values.email,onBlur:l.handleBlur,onChange:l.handleChange})]}),Object(E.jsx)(S.a,{color:"primary",disabled:l.isSubmitting,size:"small",type:"submit",variant:"contained",children:"Suscribirse"})]}),Object(E.jsx)(w.a,{error:l.touched.email&&Boolean(l.errors.email),sx:{color:"white !important"},children:l.errors.email})]})]})},B=function(){var e={textDecoration:"none",color:"white"},t=Object(o.useState)({}),n=Object(r.a)(t,2),a=n[0],c=n[1];localStorage.getItem("suscribed");return Object(o.useEffect)((function(){Object(g.a)().then((function(e){c(e.data)}))}),[]),Object(E.jsxs)(d.a,{sx:{display:{xs:"flex"},justifyContent:{xs:"center"},alignItems:{xs:"center"},flexDirection:{xs:"column"},backgroundColor:"#28527A",color:"white",marginTop:"auto"},children:[Object(E.jsxs)(u.a,{sx:{display:{xs:"grid",sm:"flex"},justifyContent:{xs:"center"},alignItems:{xs:"center"}},children:[Object(E.jsx)(p.a,{sx:{display:{xs:"flex"},justifyContent:{xs:"center"},alignItems:{xs:"center"},flexDirection:{xs:"column"},width:{xs:"100%"}},children:Object(E.jsx)("img",{alt:"logo",height:"120px",src:a.logo})}),Object(E.jsxs)(p.a,{sx:{display:{xs:"flex"},width:{xs:"100%"},justifyContent:{xs:"space-evenly"},alignItems:{xs:"center"},flexWrap:{xs:"wrap"}},children:[Object(E.jsx)(p.a,{sx:{margin:"3px"},children:Object(E.jsx)(i.b,{style:e,to:"/school-campaign",children:"Campa\xf1a Escolar"})}),Object(E.jsx)(p.a,{sx:{margin:"3px"},children:Object(E.jsx)(i.b,{style:e,to:"/toys-campaign",children:"Campa\xf1a Juguetes"})})]}),Object(E.jsxs)(p.a,{sx:{display:{xs:"flex"},width:{xs:"100%"},justifyContent:{xs:"space-evenly"}},children:[Object(E.jsx)("a",{href:"https://".concat(a.facebook_url),rel:"noreferrer",target:"_blank",children:Object(E.jsx)(b.a,{sx:{fontSize:40,textDecoration:"none",color:"#ec4c4c"}})}),Object(E.jsx)("a",{href:"https://".concat(a.linkedin_url),rel:"noreferrer",target:"_blank",children:Object(E.jsx)(j.a,{sx:{fontSize:40,textDecoration:"none",color:"#f8fc74"}})}),Object(E.jsx)("a",{href:"https://".concat(a.instagram_url),rel:"noreferrer",target:"_blank",children:Object(E.jsx)(h.a,{sx:{fontSize:40,textDecoration:"none",color:"#8dcaff"}})}),Object(E.jsx)("a",{href:"https://".concat(a.twitter_url),rel:"noreferrer",target:"_blank",children:Object(E.jsx)(s.a,{sx:{fontSize:40,textDecoration:"none",color:"white"}})})]})]}),Object(E.jsx)("div",{style:{margin:"auto",display:"block"},children:Object(E.jsx)(z,{})})]})},A=n(615),F=n(605),_=n(592),T=n(285),G=n(610),L=n(248),J=n.n(L),R=n(64),W=n.n(R),q=[{name:"Inicio",path:"/"},{name:"Nosotros",path:"/aboutus"},{name:"Contacto",path:"/contact"},{name:"Actividades",path:"/activities"},{name:"Campa\xf1a Escolar",path:"/school-campaign"},{name:"Campa\xf1a de Juguetes",path:"/toys-campaign"}],H=function(e){var t=e.isLogged,n=Object(a.g)(),c=Object(o.useState)({}),s=Object(r.a)(c,2),l=s[0],b=s[1],x=Object(o.useState)(q),j=Object(r.a)(x,2),m=j[0],h=j[1],d=Object(o.useState)(null),f=Object(r.a)(d,2),O=f[0],y=f[1],k=localStorage.getItem("token"),v=n.location.pathname,C=function(){y(null)},w=function(){localStorage.removeItem("token"),localStorage.getItem("subscribed")&&localStorage.removeItem("subscribed"),h(q)};return Object(o.useEffect)((function(){Object(g.a)().then((function(e){b(e.data)}))}),[]),Object(o.useEffect)((function(){!function(){var e=[].concat(q);if("2"===t)e.splice(2,1),h(e)}()}),[]),Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(A.a,{position:"static",sx:{backgroundColor:"#28527A",color:"white"},children:Object(E.jsx)(u.a,{maxWidth:"xl",children:Object(E.jsxs)(F.a,{disableGutters:!0,sx:{gap:"2rem"},children:[Object(E.jsxs)(p.a,{sx:{flexGrow:1,display:{xs:"flex",lg:"none"}},children:[Object(E.jsx)(_.a,{"aria-controls":"menu-appbar","aria-haspopup":"true","aria-label":"account of current user",color:"inherit",size:"large",onClick:function(e){y(e.currentTarget)},children:Object(E.jsx)(J.a,{})}),Object(E.jsxs)(T.a,{keepMounted:!0,anchorEl:O,anchorOrigin:{vertical:"bottom",horizontal:"left"},id:"menu-appbar",open:Boolean(O),sx:{display:{xs:"block",lg:"none"}},transformOrigin:{vertical:"top",horizontal:"left"},onClose:C,children:[q.map((function(e){return Object(E.jsx)(G.a,{component:i.b,sx:{backgroundColor:e.path===v?"rgba(0, 0, 0, 0.1)":"white"},to:e.path,onClick:C,children:e.name},e.name)})),"1"===k&&Object(E.jsx)(G.a,{component:i.b,to:"/donations",onClick:function(){C()},children:"Donacion"}),"2"===k&&Object(E.jsx)(G.a,{component:i.b,to:"/backoffice",children:"Backoffice"}),t?Object(E.jsx)(G.a,{component:i.b,to:"/",onClick:function(){C(),w(),W.a.fire({icon:"success",text:"Sesi\xf3n finalizada"})},children:"Cerrar sesi\xf3n"}):Object(E.jsx)(G.a,{component:i.b,to:"/login",onClick:C,children:"Iniciar sesi\xf3n"})]})]}),Object(E.jsx)("img",{alt:"logo",src:l.logo,style:{maxWidth:"100%",height:"150px"}}),Object(E.jsxs)(p.a,{sx:{flexGrow:1,display:{xs:"none",lg:"flex",justifyContent:"right"},alignItems:"center",gap:"0"},children:[m.map((function(e){return Object(E.jsx)(S.a,{component:i.b,size:"small",sx:{color:"white",alignItems:"center",justifyContent:"center",paddingInline:".5rem",whiteSpace:"nowrap",borderRadius:"unset",borderBottom:e.path===n.location.pathname?"2px solid white":"2px solid #28527A",":hover":{borderBottom:"2px solid rgba(255, 255, 255, 0.5)"}},to:e.path,onClick:C,children:e.name},e.name)})),"1"===k&&Object(E.jsx)(S.a,{component:i.b,sx:{textTransform:"none",color:"white",height:"100%",bgcolor:"#63CD65",":hover":{bgcolor:"#63CD65",color:"primary.info"},marginLeft:"2rem",textAlign:"center",whiteSpace:"nowrap"},to:"/donations",onClick:C,children:"Donaciones"}),"2"===k&&Object(E.jsx)(S.a,{component:i.b,size:"small",sx:{color:"white",alignItems:"center",justifyContent:"center",borderRadius:"unset",borderBottom:"2px solid #28527A",":hover":{borderBottom:"2px solid rgba(255, 255, 255, 0.5)"}},to:"/backoffice",onClick:C,children:"Backoffice"}),t?Object(E.jsx)(S.a,{color:"primary",component:i.b,sx:{textTransform:"none",height:"100%",bgcolor:"white",":hover":{bgcolor:"#EDF2F7",color:"primary.info"},marginLeft:"1rem",textAlign:"center",whiteSpace:"nowrap"},to:"/",variant:"outlined",onClick:function(){w(),W.a.fire({icon:"success",text:"Sesi\xf3n finalizada"})},children:"Cerrar sesi\xf3n"}):Object(E.jsx)(S.a,{color:"primary",component:i.b,sx:{textTransform:"none",height:"100%",bgcolor:"white",":hover":{bgcolor:"#EDF2F7",color:"primary.info"},marginLeft:"2rem",textAlign:"center"},to:"/login",variant:"outlined",children:"Iniciar sesi\xf3n"})]})]})})})})};t.default=function(e){var t=e.children;return Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{style:{minHeight:"100vh",margin:"0",display:"flex",flexDirection:"column"},children:[Object(E.jsx)(H,{isLogged:localStorage.getItem("token")}),Object(E.jsx)(a.d,{children:t}),Object(E.jsx)(B,{})]})})}}}]);
//# sourceMappingURL=18.edea217b.chunk.js.map